<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j"
                template="../WEB-INF/layout/basic_layout.xhtml">
                
<ui:define name="body">

	<rich:modalPanel id="panel" width="150" height="50">
       <h:form id="vFrm">
        <h:panelGrid columns="1" rowClasses="prop" columnClasses="name2,value">
           <h:outputText value="Please wait...." styleClass="messagesingle" >
               <h:graphicImage value="/images/loading_small.gif"/>
           </h:outputText>
          </h:panelGrid>  
         </h:form>
    </rich:modalPanel>
<h:form id ="mangt">
 		<!-- 	 <a4j:form>
		        <a4j:commandButton id="submit"
		                           value="    Back   " onclick="window.location ='XPortal/support/bcmTransactionSummaryReport.etz'">
		        </a4j:commandButton>
   			 </a4j:form> -->
   			    
                 <!--    
                 	<h:outputLabel  value=" Company Bank  : "/>
                    <h:panelGroup>
               			<h:outputText value="#{reportAction.getBankName(reportAction.companyBank)}"/>
                    </h:panelGroup>
                    
                    <h:outputLabel  value=" Company Account No  : "/>
                    <h:panelGroup>
               			<h:outputText value="#{reportAction.companyBankAccount}"/>
                    </h:panelGroup>
   			  -->
</h:form>
    <!-- -->
    <h:form id="cardFrm">
   
    
        <rich:panel style="width:40%">
            <f:facet name="header">Depot Pool Account Transaction Confirmation  Page</f:facet>
            <rich:graphValidator>
                <h:panelGrid columns="2" rowClasses="prop" columnClasses="name2,value">
                
                     <h:outputLabel id="email_label" value=" Amount  : "/>
                    <h:panelGroup>
               					
               			<h:outputText value="#{reportAction.makeDouble(reportAction.transAmount)}">
                                    <f:convertNumber pattern="#,###,###,###,###.00"/>
                       </h:outputText>

                    </h:panelGroup>
                    
                    <h:outputLabel  value=" Mobile  : "/>
                    <h:panelGroup>
               					
               			<h:outputText value="#{reportAction.mobileno}">
                               
                       </h:outputText>

                    </h:panelGroup>
                    
                    <h:outputLabel  value=" Company Name  : "/>
                    <h:panelGroup>
               			<h:outputText value="#{reportAction.getCompanyByCompanyId(reportAction.companyId)}"></h:outputText>
                    </h:panelGroup>
               

                    <h:outputLabel value=" Bank Account : " />
                    <h:panelGroup>
                        <h:selectOneMenu required="true" requiredMessage="Select Bank Account "
                                          id="optionbanks" layout="lineDirection" value="#{reportAction.accountName}">
                           
                           <s:selectItems var="r" value="#{reportAction.bankAccountList}" itemValue="#{r.bankAcct}"
                                                       label="#{r.bankcode_bankAccount}" noSelectionLabel="SELECT ACCOUNT" />                    
                           </h:selectOneMenu>
                       	<h:outputLabel value=" * " styleClass="messagesingle" />
                        <br/>
                            
                        <rich:message for="optionbanks" styleClass="messagesingle"
                                      errorClass="errormsg" infoClass="infomsg" warnClass="warnmsg"/>                                                            
                    </h:panelGroup>
                    
                    
                     <h:outputLabel value=" Card Expiry Date: "/> 
                    <h:panelGroup>
                        <h:selectOneMenu value="#{reportAction.month}">
                                         <f:selectItem itemLabel="01" itemValue="01" />
                                         <f:selectItem itemLabel="02" itemValue="02" />
                                         <f:selectItem itemLabel="03" itemValue="03" />
                                         <f:selectItem itemLabel="04" itemValue="04" />
                                         <f:selectItem itemLabel="05" itemValue="05" />
                                         <f:selectItem itemLabel="06" itemValue="06" />
                                         <f:selectItem itemLabel="07" itemValue="07" />
                                         <f:selectItem itemLabel="08" itemValue="08" />
                                         <f:selectItem itemLabel="09" itemValue="09" />
                                         <f:selectItem itemLabel="10" itemValue="10" />
                                         <f:selectItem itemLabel="11" itemValue="11" />
                                         <f:selectItem itemLabel="12" itemValue="12" />
                        </h:selectOneMenu>
          
                      <h:selectOneMenu id="year" value="#{reportAction.year}">
                                         
                                         <f:selectItem itemLabel="2011" itemValue="2011" />
                                         <f:selectItem itemLabel="2012" itemValue="2012" />
                                         <f:selectItem itemLabel="2013" itemValue="2013" />
                                         <f:selectItem itemLabel="2014" itemValue="2014" />
                                         <f:selectItem itemLabel="2015" itemValue="2015" />
                                         <f:selectItem itemLabel="2016" itemValue="2016" />
                                         <f:selectItem itemLabel="2017" itemValue="2017" />
                                         <f:selectItem itemLabel="2018" itemValue="2018" />
                                         <f:selectItem itemLabel="2019" itemValue="2019" />
                                         <f:selectItem itemLabel="2020" itemValue="2020" />
                                         <f:selectItem itemLabel="2021" itemValue="2021" />
                                         <f:selectItem itemLabel="2022" itemValue="2022" />
                                         <f:selectItem itemLabel="2023" itemValue="2023" />
                        </h:selectOneMenu>
                       <b>mm/yyyy</b>
                    </h:panelGroup> 
                    
     
                    <h:outputLabel value="Enter Pin: "/>
                    <h:panelGroup>
                    	
                    	<h:inputSecret id="pins" value="#{reportAction.pin}" length="4" maxlength= "4" required="true" requiredMessage="Pin  is required"/>
                    	<h:outputLabel value=" *" styleClass="messagesingle" />
                    	<br/>
                        <rich:message for="pins" styleClass="messagesingle"
                                      errorClass="errormsg" infoClass="infomsg" warnClass="warnmsg"/>
                    </h:panelGroup>
            
                    <h:panelGroup>
                    
                    		 <h:commandButton id="submit" value="  Move To Bank  " action="#{reportAction.moveToDepotBank}"  reRender="cardFrm">
                 				<f:setPropertyActionListener target="#{reportAction.transAmount}"  value="#{reportAction.transAmount}" />
                 				<f:setPropertyActionListener target="#{reportAction.card_num}" value="#{reportAction.card_num}" />
                 				<f:setPropertyActionListener target="#{reportAction.mobileno}" value="#{reportAction.mobileno}" />
                 				<f:setPropertyActionListener target="#{reportAction.merchant_code}" value="#{reportAction.merchant_code}" />
                 				<f:setPropertyActionListener target="#{reportAction.companyId}" value="#{reportAction.companyId}" />
                 				<f:setPropertyActionListener target="#{reportAction.transDate}" value="#{reportAction.transDate}" />
                 				<f:setPropertyActionListener target="#{reportAction.companyBank}" value="#{reportAction.companyBank}" />
                 				<f:setPropertyActionListener target="#{reportAction.companyBankAccount}" value="#{reportAction.companyBankAccount}" />
                 				
            					<rich:componentControl for="panelp" attachTo="submit" operation="show" event="onclick"/>
           					 </h:commandButton>
                    
                    </h:panelGroup>
                    
                     
                  </h:panelGrid>  
                  	 	
                   
            </rich:graphValidator>

        </rich:panel>

</h:form>
</ui:define>
</ui:composition>
